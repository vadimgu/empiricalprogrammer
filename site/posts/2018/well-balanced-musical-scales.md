[Previously](/2018/02/23/count-musical-scales/)
I generated a few "nice" musical scales. By a "nice" scale I meant a scale
with no more than 2 contiguous half-tones. This criteria seems arbitrary and
in this post I will explore the intuition behind that criteria and provide a
measure of "niceness" and score all 266 scales.

Here I will continue using the half-tone interval notation. The improved and
compact notation for the Major scale is `2212221`.

First let's represent all twelve tones on a chromatic circle.

![](/images/schale_chromatic.png)

This type of plot is called a Pitch Constellation. Each red line represents a
note and its position relative to the root. A few pitch constellations:

![](/images/scale_major.png)
![](/images/scale_hungarian_minor.png)
![](/images/scale_major_harm.png)
![](/images/scale_ugly.png)

Notice how the unknown scale `2111132` stands out. This "standing out" quality
is explained by the center of mass. Here are the same pitch constellations
with their center of mass plotted. The value of "balance" is the distance
from the origin to the center of mass.

![](/images/balance_scale_major.png)
![](/images/balance_scale_hun.png)
![](/images/balance_scale_major_harm.png)
![](/images/balance_scale_ugly.png)

The original intuition to avoid repeating half-tones was in fact a desire to
balance the scales. Now I can enumerate all 266 scales displaying the most
balanced scales first.

To enumerate all scales this time I will use the [integer
compositions](https://en.wikipedia.org/wiki/Composition_\(combinatorics\)) of
12 (of size 7 with maximum part of 3).

    
```python    
from itertools import permutations

partitions = [[2, 2, 2, 2, 2, 1, 1],
                [3, 2, 2, 2, 1, 1, 1],
                [3, 3, 2, 1, 1, 1, 1]]

scales = []
for p in partitions:
    scales.extend(set(list(permutations(p, len(p)))))
```    

Now we calculate the center of mass for each scale.

    
```python
import numpy as np

balance_scale = []
for scale in scales:
    notes = np.array(scale).cumsum()
    notes_on_circle = np.e ** (1j * 2 * np.pi * notes / 12)
    center_of_mass = notes_on_circle.mean()
    balance_scale.append((np.abs(center_of_mass), ".join(map(str, scale))))
```    
    

And finally we sort and print.

    
```python
balance_scale.sort()
for i, (balance, scale) in enumerate(balance_scale):
    print('{:3d} {:,.3f} {}'.format(i, balance, scale))
```    

In the output the second column shows the balance (distance between origin and
center of mass) and the third column shows the scale in a half-tone intervals
notation. The "nicest" scales are at the top of the list.

    
```
      0 0.000 1311312
      1 0.000 1131213
      2 0.000 1213113
      3 0.000 1312131
      4 0.000 3113121
      5 0.000 2131131
      6 0.000 3121311
      7 0.038 2212221
      8 0.038 2122212
      9 0.038 1222122
     10 0.038 1221222
     11 0.038 2212212
     12 0.038 2122122
     13 0.038 2221221
     14 0.074 3113211
     15 0.074 3112311
     16 0.074 1222131
     17 0.074 1311321
     18 0.074 1213122
     19 0.074 1132113
     20 0.074 2122131
     21 0.074 1131222
     22 0.074 2221311
     23 0.074 1123113
     24 0.074 1221312
     25 0.074 2131221
     26 0.074 3112221
     27 0.074 1312221
     28 0.074 2213121
     29 0.074 1231131
     30 0.074 1311231
     31 0.074 2113122
     32 0.074 1312212
     33 0.074 2213112
     34 0.074 1131132
     35 0.074 1222113
     36 0.074 2121312
     37 0.074 2211312
     38 0.074 1122213
     39 0.074 3122211
     40 0.074 2212131
     41 0.074 1131123
     42 0.074 1212213
     43 0.074 2131212
     44 0.074 1221213
     45 0.074 1312122
     46 0.074 3113112
     47 0.074 2113113
     48 0.074 1311222
     49 0.074 3121221
     50 0.074 2131122
     51 0.074 1321131
     52 0.074 2311311
     53 0.074 2221131
     54 0.074 3122121
     55 0.074 3211311
     56 0.105 2212311
     57 0.105 2211321
     58 0.105 1221231
     59 0.105 2122221
     60 0.105 1132122
     61 0.105 2113212
     62 0.105 2123112
     63 0.105 1212222
     64 0.105 1222212
     65 0.105 1231122
     66 0.105 3112212
     67 0.105 1221132
     68 0.105 1122123
     69 0.105 1321221
     70 0.105 2122113
     71 0.105 2222121
     72 0.105 2121222
     73 0.105 2212122
     74 0.105 2221212
     75 0.105 2311221
     76 0.105 3212211
     77 0.143 2131311
     78 0.143 1213131
     79 0.143 1312311
     80 0.143 2113131
     81 0.143 2213211
     82 0.143 1123122
     83 0.143 1131231
     84 0.143 1132131
     85 0.143 1221321
     86 0.143 2121321
     87 0.143 2123121
     88 0.143 3111321
     89 0.143 1122222
     90 0.143 1212312
     91 0.143 1213212
     92 0.143 1222221
     93 0.143 1313112
     94 0.143 1321311
     95 0.143 2112312
     96 0.143 2121231
     97 0.143 2132121
     98 0.143 2211231
     99 0.143 2222211
    100 0.143 3123111
    101 0.143 1122132
    102 0.143 1131312
    103 0.143 1231212
    104 0.143 1231221
    105 0.143 1313121
    106 0.143 2132112
    107 0.143 1113213
    108 0.143 1212132
    109 0.143 1231113
    110 0.143 1311213
    111 0.143 1312113
    112 0.143 2112222
    113 0.143 3111312
    114 0.143 1113123
    115 0.143 1121313
    116 0.143 1212123
    117 0.143 1221123
    118 0.143 1321212
    119 0.143 2222112
    120 0.143 3112131
    121 0.143 3131211
    122 0.143 1311132
    123 0.143 1321122
    124 0.143 2112213
    125 0.143 2121213
    126 0.143 2131113
    127 0.143 2211222
    128 0.143 2312211
    129 0.143 3121212
    130 0.143 3122112
    131 0.143 3213111
    132 0.143 1211313
    133 0.143 3131121
    134 0.143 2221122
    135 0.143 3211221
    136 0.143 2312121
    137 0.143 3121131
    138 0.143 3212121
    139 0.143 2311131
    140 0.177 1212231
    141 0.177 2122311
    142 0.177 2113221
    143 0.177 1223112
    144 0.177 1132212
    145 0.177 1211322
    146 0.177 1322121
    147 0.177 2212113
    148 0.177 1121223
    149 0.177 2121132
    150 0.177 2231121
    151 0.177 2311212
    152 0.177 3112122
    153 0.177 3221211
    154 0.202 2132211
    155 0.202 1123131
    156 0.202 1313211
    157 0.202 2112231
    158 0.202 1213221
    159 0.202 1231311
    160 0.202 1131321
    161 0.202 1223121
    162 0.202 1113132
    163 0.202 1121322
    164 0.202 1122312
    165 0.202 1322112
    166 0.202 2112132
    167 0.202 2211213
    168 0.202 2231211
    169 0.202 1311123
    170 0.202 1321113
    171 0.202 3111231
    172 0.202 3132111
    173 0.202 1211223
    174 0.202 2312112
    175 0.202 2313111
    176 0.202 3131112
    177 0.202 1112313
    178 0.202 2111313
    179 0.202 3221121
    180 0.202 3121122
    181 0.202 3211131
    182 0.215 2123211
    183 0.215 2112321
    184 0.215 1122231
    185 0.215 1212321
    186 0.215 1222311
    187 0.215 1113222
    188 0.215 1232112
    189 0.215 1322211
    190 0.215 2223111
    191 0.215 1123212
    192 0.215 1132221
    193 0.215 1121232
    194 0.215 1232121
    195 0.215 1211232
    196 0.215 2111322
    197 0.215 2121123
    198 0.215 2231112
    199 0.215 2112123
    200 0.215 2221113
    201 0.215 1112223
    202 0.215 2211132
    203 0.215 3212112
    204 0.215 2321121
    205 0.215 2321211
    206 0.215 3211212
    207 0.215 3222111
    208 0.215 3111222
    209 0.215 2311122
    210 0.247 2113311
    211 0.247 1133112
    212 0.247 1211331
    213 0.247 1331121
    214 0.247 3112113
    215 0.247 1121133
    216 0.247 3311211
    217 0.269 1122321
    218 0.269 1123221
    219 0.269 1223211
    220 0.269 1232211
    221 0.269 1112232
    222 0.269 1112322
    223 0.269 2111232
    224 0.269 2211123
    225 0.269 2232111
    226 0.269 2111223
    227 0.269 2321112
    228 0.269 3221112
    229 0.269 2322111
    230 0.269 3211122
    231 0.276 1213311
    232 0.276 1113312
    233 0.276 1121331
    234 0.276 2111331
    235 0.276 2133111
    236 0.276 1133121
    237 0.276 1331211
    238 0.276 1331112
    239 0.276 3111213
    240 0.276 1211133
    241 0.276 3121113
    242 0.276 1112133
    243 0.276 3312111
    244 0.276 3311121
    245 0.286 1113231
    246 0.286 1132311
    247 0.286 1323111
    248 0.286 1111323
    249 0.286 2311113
    250 0.286 3231111
    251 0.286 3111132
    252 0.342 1112331
    253 0.342 1113321
    254 0.342 1123311
    255 0.342 1111332
    256 0.342 1133211
    257 0.342 1233111
    258 0.342 1332111
    259 0.342 2331111
    260 0.342 3111123
    261 0.342 1111233
    262 0.342 2111133
    263 0.342 3211113
    264 0.342 3311112
    265 0.342 3321111
```    

